{"ast":null,"code":"const _ = require('lodash');\nclass Schema {\n  constructor() {\n    let schema = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let dependencies = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    if (dependencies.logger) {\n      this.logger = dependencies.logger;\n    }\n    if (schema.config) {\n      const config = _.cloneDeep(schema.config);\n      this.setter(config);\n    }\n    if (schema.data) {\n      const data = schema.data();\n      this.setter(data);\n    }\n    if (schema.events) {\n      this.setter(schema.events);\n    }\n  }\n  setter() {\n    let object = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    Object.entries(object).forEach(_ref => {\n      let [key, value] = _ref;\n      if (typeof value === 'function') {\n        value.bind(this);\n      }\n      this[key] = value;\n    });\n  }\n  static factory(schema) {\n    let dependencies = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    return new Schema(schema, dependencies);\n  }\n}\nmodule.exports = Schema;","map":{"version":3,"names":["_","require","Schema","constructor","schema","arguments","length","undefined","dependencies","logger","config","cloneDeep","setter","data","events","object","Object","entries","forEach","_ref","key","value","bind","factory","module","exports"],"sources":["C:/Users/Spyder/Desktop/SP/screenplay/node_modules/smtpjs/src/smtp/schema/Schema.js"],"sourcesContent":["const _ = require('lodash')\n\nclass Schema {\n  constructor (schema = {}, dependencies = {}) {\n    if (dependencies.logger) {\n      this.logger = dependencies.logger\n    }\n\n    if (schema.config) {\n      const config = _.cloneDeep(schema.config)\n      this.setter(config)\n    }\n\n    if (schema.data) {\n      const data = schema.data()\n      this.setter(data)\n    }\n\n    if (schema.events) {\n      this.setter(schema.events)\n    }\n  }\n\n  setter (object = {}) {\n    Object.entries(object).forEach(([key, value]) => {\n      if (typeof value === 'function') {\n        value.bind(this)\n      }\n\n      this[key] = value\n    })\n  }\n\n  static factory (schema, dependencies = {}) {\n    return new Schema(schema, dependencies)\n  }\n}\n\nmodule.exports = Schema"],"mappings":"AAAA,MAAMA,CAAC,GAAGC,OAAO,CAAC,QAAQ,CAAC;AAE3B,MAAMC,MAAM,CAAC;EACXC,WAAWA,CAAA,EAAkC;IAAA,IAAhCC,MAAM,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;IAAA,IAAEG,YAAY,GAAAH,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;IACzC,IAAIG,YAAY,CAACC,MAAM,EAAE;MACvB,IAAI,CAACA,MAAM,GAAGD,YAAY,CAACC,MAAM;IACnC;IAEA,IAAIL,MAAM,CAACM,MAAM,EAAE;MACjB,MAAMA,MAAM,GAAGV,CAAC,CAACW,SAAS,CAACP,MAAM,CAACM,MAAM,CAAC;MACzC,IAAI,CAACE,MAAM,CAACF,MAAM,CAAC;IACrB;IAEA,IAAIN,MAAM,CAACS,IAAI,EAAE;MACf,MAAMA,IAAI,GAAGT,MAAM,CAACS,IAAI,CAAC,CAAC;MAC1B,IAAI,CAACD,MAAM,CAACC,IAAI,CAAC;IACnB;IAEA,IAAIT,MAAM,CAACU,MAAM,EAAE;MACjB,IAAI,CAACF,MAAM,CAACR,MAAM,CAACU,MAAM,CAAC;IAC5B;EACF;EAEAF,MAAMA,CAAA,EAAe;IAAA,IAAbG,MAAM,GAAAV,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;IACjBW,MAAM,CAACC,OAAO,CAACF,MAAM,CAAC,CAACG,OAAO,CAACC,IAAA,IAAkB;MAAA,IAAjB,CAACC,GAAG,EAAEC,KAAK,CAAC,GAAAF,IAAA;MAC1C,IAAI,OAAOE,KAAK,KAAK,UAAU,EAAE;QAC/BA,KAAK,CAACC,IAAI,CAAC,IAAI,CAAC;MAClB;MAEA,IAAI,CAACF,GAAG,CAAC,GAAGC,KAAK;IACnB,CAAC,CAAC;EACJ;EAEA,OAAOE,OAAOA,CAAEnB,MAAM,EAAqB;IAAA,IAAnBI,YAAY,GAAAH,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;IACvC,OAAO,IAAIH,MAAM,CAACE,MAAM,EAAEI,YAAY,CAAC;EACzC;AACF;AAEAgB,MAAM,CAACC,OAAO,GAAGvB,MAAM"},"metadata":{},"sourceType":"script","externalDependencies":[]}