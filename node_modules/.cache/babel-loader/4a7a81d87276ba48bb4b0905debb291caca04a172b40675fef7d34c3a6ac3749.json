{"ast":null,"code":"const _ = require('lodash');\nconst util = require('util');\nconst kleur = require('kleur');\nconst LOG_LEVELS = {\n  'fatal': {\n    value: 50,\n    mapping: 'error'\n  },\n  'error': {\n    value: 40,\n    mapping: 'error'\n  },\n  'warn': {\n    value: 30,\n    mapping: 'warn'\n  },\n  'info': {\n    value: 20,\n    mapping: 'info'\n  },\n  'log': {\n    value: 20,\n    mapping: 'log'\n  },\n  'debug': {\n    value: 10,\n    mapping: 'debug'\n  },\n  'all': {\n    value: 0,\n    mapping: 'log'\n  }\n};\nconst COLOR_MAPPINGS = {\n  'fatal': kleur.red().inverse,\n  'error': kleur.red,\n  'warn': kleur.yellow,\n  'info': kleur.green,\n  'log': kleur.green,\n  'debug': kleur.magenta\n};\nclass Logger {\n  /**\n   * options object\n   *  {\n   *    level: 'warn',\n   *  }\n   * @param {Object} options - options object\n   */\n  constructor() {\n    var _this = this;\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    const noop = () => {};\n    this.level = _.get(options, 'level', 'all');\n    this.logger = _.get(options.logger) || console;\n    this.debug = noop;\n    this.log = noop;\n    this.info = noop;\n    this.warn = noop;\n    this.error = noop;\n    this.fatal = noop;\n    const levelValue = _.get(LOG_LEVELS, `${this.level}.value`, LOG_LEVELS['fatal'].value);\n    console.log(\"Logger -> noop -> levelValue\", levelValue);\n\n    // only add logging methods based on logging level\n    Object.entries(LOG_LEVELS).forEach(_ref => {\n      let [key, level] = _ref;\n      if (levelValue <= level.value) {\n        this[key] = function () {\n          for (var _len = arguments.length, message = new Array(_len), _key = 0; _key < _len; _key++) {\n            message[_key] = arguments[_key];\n          }\n          _this.logger[level.mapping](Logger.formatted(key, ...message));\n          return message;\n        };\n      }\n    });\n  }\n  static formatted() {\n    let type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    for (var _len2 = arguments.length, message = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      message[_key2 - 1] = arguments[_key2];\n    }\n    const msg = message.reduce((accumulator, msg) => {\n      if (typeof msg === 'object') {\n        msg = `${util.inspect(msg, {\n          showHidden: false,\n          depth: 2,\n          colors: kleur.enabled,\n          breakLength: Number.POSITIVE_INFINITY\n        })}`;\n      }\n      accumulator += `${msg} `;\n      return accumulator;\n    }, '');\n    const timestamp = kleur.grey(`[${new Date().toISOString()}]`);\n    const levelColor = COLOR_MAPPINGS[type];\n    const level = `[${type.toUpperCase()}]`.padEnd(7);\n    return `${timestamp} ${levelColor(level)} - ${msg}`;\n  }\n}\nmodule.exports = Logger;","map":{"version":3,"names":["_","require","util","kleur","LOG_LEVELS","value","mapping","COLOR_MAPPINGS","red","inverse","yellow","green","magenta","Logger","constructor","_this","options","arguments","length","undefined","noop","level","get","logger","console","debug","log","info","warn","error","fatal","levelValue","Object","entries","forEach","_ref","key","_len","message","Array","_key","formatted","type","_len2","_key2","msg","reduce","accumulator","inspect","showHidden","depth","colors","enabled","breakLength","Number","POSITIVE_INFINITY","timestamp","grey","Date","toISOString","levelColor","toUpperCase","padEnd","module","exports"],"sources":["C:/Users/Spyder/Desktop/SP/screenplay/node_modules/smtpjs/src/smtp/logger/Logger.js"],"sourcesContent":["const _ = require('lodash')\nconst util = require('util')\nconst kleur = require('kleur')\n\nconst LOG_LEVELS = {\n  'fatal': { value: 50, mapping: 'error' },\n  'error': { value: 40, mapping: 'error' },\n  'warn': { value: 30, mapping: 'warn' },\n  'info': { value: 20, mapping: 'info' },\n  'log': { value: 20, mapping: 'log' },\n  'debug': { value: 10, mapping: 'debug' },\n  'all': { value: 0, mapping: 'log' },\n}\n\nconst COLOR_MAPPINGS = {\n  'fatal': kleur.red().inverse,\n  'error': kleur.red,\n  'warn': kleur.yellow,\n  'info': kleur.green,\n  'log': kleur.green,\n  'debug': kleur.magenta,\n}\n\nclass Logger {\n  /**\n   * options object\n   *  {\n   *    level: 'warn',\n   *  }\n   * @param {Object} options - options object\n   */\n  constructor (options = {}) {\n    const noop = () => {}\n\n    this.level = _.get(options, 'level', 'all')\n    this.logger = _.get(options.logger) || console\n\n    this.debug = noop\n    this.log = noop\n    this.info = noop\n    this.warn = noop\n    this.error = noop\n    this.fatal = noop\n\n    const levelValue = _.get(LOG_LEVELS, `${this.level}.value`, LOG_LEVELS['fatal'].value)\n    console.log(\"Logger -> noop -> levelValue\", levelValue)\n\n\n    // only add logging methods based on logging level\n    Object.entries(LOG_LEVELS).forEach(([key, level]) => {\n      if (levelValue <= level.value) {\n        this[key] = (...message) => {\n          this.logger[level.mapping](Logger.formatted(key, ...message))\n          return message\n        }\n      }\n    })\n  }\n\n  static formatted (type = '', ...message) {\n    const msg = message.reduce((accumulator, msg) => {\n      if (typeof msg === 'object') {\n        msg = `${util.inspect(msg, { showHidden: false, depth: 2, colors: kleur.enabled, breakLength: Number.POSITIVE_INFINITY })}`\n      }\n\n      accumulator += `${msg} `\n\n      return accumulator\n    }, '')\n\n    const timestamp = kleur.grey(`[${new Date().toISOString()}]`)\n    const levelColor = COLOR_MAPPINGS[type]\n    const level = `[${type.toUpperCase()}]`.padEnd(7)\n\n    return `${timestamp} ${levelColor(level)} - ${msg}`\n  }\n}\n\nmodule.exports = Logger\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}